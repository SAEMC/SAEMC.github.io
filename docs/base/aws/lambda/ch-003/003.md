---
hide:
  - footer
---

# 프로그래밍 모델

---

Lambda는 모든 런타임에 공통적인 프로그래밍 모델을 제공한다. 프로그래밍 모델은 코드와 Lambda 시스템 간의 인터페이스를 정의한다. 함수 구성에서 핸들러를 정의하여 Lambda에게 함수의 진입점을 알려줍니다. 런타임은 호출 이벤트와 컨텍스트(예: 함수 이름, 요청 ID)를 포함하는 핸들러로 객체를 전달한다.

핸들러가 첫 번째 이벤트 처리를 완료하면 런타임이 다른 이벤트를 보낸다. 함수의 클래스가 메모리에 유지되므로, 초기화 코드에서 핸들러 메서드 외부에서 선언된 클라이언트 및 변수를 재사용할 수 있다. 후속 이벤트에 대한 처리 시간을 절약하려면 초기화 중에 AWS SDK 클라이언트와 같은 재사용 가능한 리소스를 생성한다. 초기화된 후에는 함수의 각 인스턴스가 수천 개의 요청을 처리할 수 있다.

[AWS X-Ray](https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/services-xray.html) 추적이 활성화된 경우 런타임이 초기화와 실행에 대해 별도의 하위 세그먼트를 기록한다.

함수는 `/tmp` 디렉터리의 로컬 스토리지에도 액세스할 수 있다. 요청을 처리 중인 함수의 인스턴스는 재활용되기 전에 몇 시간 동안 활성 상태로 유지된다.

런타임은 함수에서 로깅 출력을 캡처하여 Amazon CloudWatch Logs로 전송한다. 런타임은 함수의 출력을 로깅하는 것 외에도 호출이 시작되고 끝날 때 항목을 로깅한다. 여기에는 요청 ID, 요금이 청구되는 소요 시간, 초기화 소요 시간 및 기타 세부 정보가 들어 있는 보고서 로그가 포함된다. 함수에서 오류가 발생하는 경우, 런타임은 해당 오류를 호출자에게 반환한다.

Lambda는 수요가 증가하면 추가 인스턴스를 실행하고 수요가 감소하면 인스턴스를 중지하여 함수 규모를 조정한다. 달리 지정되지 않는 한, 수신 요청은 비순차적으로, 또는 동시에 처리될 수 있다. 애플리케이션의 상태를 다른 서비스에 저장하고 오래 지속되는 함수의 인스턴스를 사용하면 안 된다. 로컬 스토리지 및 클래스 수준 객체를 사용하여 성능을 강화할 수 있지만, 실행 환경으로 전송하는 배포 패키지의 크기와 데이터의 양을 최소로 유지한다.

---

## References

- <https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/foundation-progmodel.html>
