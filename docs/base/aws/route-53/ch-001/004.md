---
hide:
  - footer
---

# Amazon Route 53 개념

---

다음은 Amazon Route 53 개발자 안내서에서 논의되는 개념의 개요이다.

---

## 1. 도메인 등록 개념

다음은 도메인 등록과 관련된 개념의 개요이다.

**도메인 이름**

사용자가 웹 사이트 또는 웹 애플리케이션에 액세스하기 위해 웹 브라우저의 주소 표시줄에 입력하는 example.com과 같은 이름. 인터넷에서 웹 사이트 또는 웹 애플리케이션을 사용할 수 있도록 하려면 먼저 도메인 이름을 등록해야 한다.

**도메인 등록 기관**

국제인터넷주소관리기구(ICANN)가 인증한, 특정 최상위 도메인(TLD) 등록을 처리하는 회사.

**도메인 등록처**

  특정 최상위 도메인을 가진 도메인을 판매할 권리를 소유한 회사. 예를 들어 VeriSign은 .com TLD를 가진 도메인을 판매할 권리를 소유한 등록 기관이다. 도메인 등록 기관은 지리적 TLD를 위한 거주 요건 등 도메인 등록 규칙을 정의한다. 도메인 등록 기관은 동일한 TLD를 갖는 모든 도메인 이름의 권한 데이터베이스도 유지하고 있다. 등록 기관의 데이터베이스에는 각 도메인의 연락처 정보와 이름 서버 등의 정보가 포함되어 있다.

**도메인 리셀러**

Amazon Registrar 같은 등록 기관을 위해 도메인 이름을 판매하는 회사이다. Amazon Route 53은 Amazon Registrar 및 Amazon 등록 기관 협력사인 Gandi의 도메인 리셀러이다.

**상위 수준 도메인(TLD)**

.com, .org 또는 .ninja 등 도메인 이름의 마지막 부분. 최상위 도메인에는 다음의 두 가지 유형이 있다.

- **일반적인 최상위 도메인**

    이런 TLD는 일반적으로 사용자에게 웹 사이트에서 무엇을 보게 될지 알려 준다. 예를 들어 .bike라는 TLD를 가진 도메인 이름은 모터사이클 또는 자전거 업체나 조직의 웹 사이트와 연관되는 경우가 많다. 몇 가지 예외는 있지만 원하는 어떤 TLD건 사용할 수 있으므로 자전거 클럽의 도메인 이름에 .hockey TLD가 사용될 수도 있다.

- **지리적 최상위 도메인**

    이 TLD는 국가나 도시 같은 지리적 영역과 연관된다. 일부 지리적 TLD의 등록 기관에는 거주 요건이 있는 반면 .io(영국령 인도양 식민지) 같은 등록 기관은 일반 TLD 사용을 허용하거나 심지어 권장한다.

---

## 2. Domain Name System(DNS) 개념

다음은 Domain Name System(DNS)과 관련된 개념의 개요이다.

**별칭 레코드**

Amazon Route 53을 사용하여 트래픽을 AWS 리소스(예: Amazon CloudFront 배포 및 Amazon S3 버킷)에 라우팅하여 생성할 수 있는 레코드 유형이다.

**권한 이름 서버**

Domain Name System(DNS)의 한 부분에 관한 확정적 정보가 있고 DNS 해석기의 요청에 대해 해당되는 정보를 반환하여 응답하는 이름 서버. 예를 들어 .com 최상위 도메인(TLD)의 권한 이름 서버는 등록된 모든 .com 도메인의 이름 서버의 이름을 알고 있다. .com 권한 이름 서버는 DNS 해석기로부터 example.com에 대한 요청을 수신하면 example.com 도메인의 DNS 서비스에 해당하는 이름 서버의 이름으로 응답한다.

Route 53 이름 서버는 Route 53을 DNS 서비스로 사용하는 모든 도메인의 권한 이름 서버이다. 이름 서버는 도메인의 호스팅 영역에서 사용자가 생성한 레코드를 기반으로 사용자가 원하는 도메인 및 하위 도메인 트래픽 라우팅 방법을 알고 있다. (Route 53 이름 서버는 Route 53을 DNS 서비스로 사용하는 도메인의 호스팅 영역을 저장한다.)

예를 들어 Route 53 이름 서버는 www.example.com에 대한 요청을 수신하면 해당 레코드를 찾아 레코드에 지정된 192.0.2.33과 같은 IP 주소를 반환한다.

**CIDR 블록**

CIDR 블록은 IP 기반 라우팅과 함께 사용되는 IP 범위이다. Route 53에서는 IPv4의 경우 /0에서 /24까지, IPv6의 경우 /0에서 /48까지 CIDR 블록을 지정할 수 있다. 예를 들어 /24 IPv4 CIDR 블록은 256개의 연속적인 IP 주소를 포함한다. CIDR 블록(또는 IP 범위) 집합을 CIDR 위치로 그룹화할 수 있으며, CIDR 위치는 다시 재사용 가능한 CIDR 컬렉션으로 그룹화된다.

**DNS 쿼리**

일반적으로 컴퓨터나 스마트폰 같은 장치가 도메인 이름과 연결된 리소스를 위해 Domain Name System(DNS)에 제출하는 요청. DNS 쿼리의 가장 일반적인 예는 사용자가 브라우저를 열어 주소 표시줄에 도메인 이름을 입력하는 경우이다. DNS 쿼리에 대한 일반적 응답은 웹 서버 같은 리소스에 연결된 IP 주소이다. 요청을 시작하는 장치는 IP 주소를 사용하여 리소스와 통신한다. 예를 들어 브라우저는 IP 주소를 사용하여 웹 서버로부터 웹 페이지를 불러온다.

**DNS 해석기**

흔히 인터넷 서비스 제공업체(ISP)가 관리하며 사용자 요청과 DNS 이름 서버 사이에서 중개 역할을 하는 DNS 서버. 브라우저를 열어 주소 표시줄에 도메인 이름을 입력하면 쿼리는 먼저 DNS 해석기로 전송된다. 해석기는 DNS 이름 서버와 통신하여 웹 서버 등 해당되는 리소스의 IP 주소를 가져온다. DNS 해석기는 재귀 이름 서버라고도 하는데, 응답(일반적으로 IP 주소)을 얻을 때까지 일련의 권한 DNS 이름 서버에 요청을 전송하고 사용자의 장치(예: 노트북 컴퓨터의 웹 브라우저)로 이 응답을 반환하기 때문이다.

**도메인 이름 시스템(DNS)**

컴퓨터, 스마트폰, 태블릿 및 기타 IP 지원 장치가 서로 통신하도록 도와주는 전 세계 서버 네트워크. Domain Name System(DNS)은 example.com 같이 쉽게 이해할 수 있는 도메인 이름을 컴퓨터가 인터넷에서 서로를 찾을 수 있도록 해 주는 IP 주소라는 숫자로 변환한다.

**호스팅 영역**

도메인(예: example.com)과 그 전체 하위 도메인(예: www.example.com, retail.example.com, seattle.accounting.example.com)의 트래픽을 라우팅하는 방법에 대한 정보를 포함하고 있는 레코드의 컨테이너이다. 호스팅 영역은 해당 도메인과 이름이 같다.

예를 들어 example.com의 호스팅 영역에는 www.example.com의 트래픽을 192.0.2.243이라는 IP 주소의 웹 서버로 라우팅하는 것에 관한 정보가 있는 레코드와 example.com의 이메일을 mail1.example.com과 mail2.example.com이라는 2개의 이메일 서버로 라우팅하는 것에 관한 정보가 있는 레코드가 포함될 수 있다. 각각의 이메일 서버에는 자체 레코드도 필요하다.

**IP 주소**

노트북, 스마트폰 또는 웹 서버 같은 장치가 인터넷 상에서 다른 장치와 통신할 수 있도록 인터넷 상에서 장치에 할당되는 번호이다. IP 주소는 다음 형식 중 하나로 되어 있다.

- 192.0.2.44와 같은 인터넷 프로토콜 버전 4(IPv4)

- 2001:0db8:85a3:0000:0000:abcd:0001:2345와 같은 인터넷 프로토콜 버전 6(IPv6)

Route 53은 다음과 같은 목적으로 IPv4 및 IPv6 주소를 모두 지원한다.

- IPv4 주소의 경우 A 타입, IPv6 주소의 경우 AAAA 타입이 있는 레코드를 생성할 수 있다.

- IPv4 주소나 IPv6 주소로 요청을 전송하는 상태 확인을 만들 수 있다.

- DNS 해석기는 IPv6 네트워크 상에 있는 경우, IPv4 또는 IPv6를 사용하여 요청을 Route 53에 제출할 수 있다.

**이름 서버**

도메인 이름을 컴퓨터 간 통신에 사용되는 IP 주소로 변환하는 Domain Name System(DNS) 내 서버. 네임서브는 재귀 네임서버(DNS resolver이라고도 함)이거나 authoritative name server이다.

**프라이빗 DNS**

도메인과 그 하위 도메인의 트래픽을 하나 이상의 Amazon Virtual Private Cloud(VPC) 내의 Amazon EC2 인스턴스로 라우팅하도록 해 주는 Domain Name System(DNS)의 로컬 버전이다.

**레코드(DNS 레코드)**

도메인 또는 하위 도메인의 트래픽을 라우팅할 방법을 정의하는 데 사용되는 호스팅 영역 내 객체. 예를 들어 IP 주소가 192.0.2.234인 웹 서버로 트래픽을 라우팅하는 example.com과 www.example.com의 레코드를 생성할 수 있다.

**재사용 가능한 위임 세트**

2개 이상의 호스팅 영역에 사용할 수 있는 4개의 권한 이름 서버 세트. 기본적으로 Route 53은 각각의 새 호스팅 영역에 무작위로 선택된 이름 서버를 할당한다. 도메인의 수가 많은 경우, DNS 서비스를 Route 53으로 보다 쉽게 마이그레이션하려면 재사용 가능한 위임 세트를 만든 다음 새 호스팅 영역에 재사용 가능한 위임 세트를 연결할 수 있다. (기존 호스팅 영역과 연결된 이름 서버는 변경할 수 없다.)

프로그래밍 방식으로 재사용 가능한 위임 세트를 만들어 호스팅 영역에 연결할 수 있다. Route 53 콘솔 사용은 지원되지 않는다.

**라우팅 정책**

Route 53이 DNS 쿼리에 응답하는 방식을 결정하는 레코드에 대한 설정이다. Route 53은 다음의 라우팅 정책을 지원한다.

- **단순 라우팅 정책(Simple routing policy)** - 도메인에 대해 특정 기능을 수행하는 하나의 리소스로 인터넷 트래픽을 라우팅하는 데 사용한다(예: example.com 웹 사이트의 콘텐츠를 제공하는 하나의 웹 서버).

- **장애 조치 라우팅 정책(Failover routing policy)** - 액티브-패시브 장애 조치를 구성하려는 경우에 사용한다.

- **지리 위치 라우팅 정책(Geolocation routing policy)** - 사용자의 위치에 기반하여 인터넷 트래픽을 리소스로 라우팅하려는 경우에 사용한다.

- **지리 근접 라우팅 정책(Geoproximity routing policy)** - 리소스의 위치를 기반으로 트래픽을 라우팅하고 필요에 따라 한 위치의 리소스에서 다른 위치의 리소스로 트래픽을 보내려는 경우에 사용한다.

- **지연 시간 라우팅 정책(Latency routing policy)** - 여러 위치에 리소스가 있고 최상의 지연 시간을 제공하는 리소스로 트래픽을 라우팅하려는 경우에 사용한다.

- **IP 기반 라우팅 정책** - 사용자의 위치에 기반하여 트래픽을 라우팅하고 트래픽이 시작되는 IP 주소가 있는 경우에 사용한다.

- **다중 응답 라우팅 정책(Multivalue answer routing policy)** - Route 53이 DNS 쿼리에 무작위로 선택된 최대 8개의 정상 레코드로 응답하게 하려는 경우에 사용한다.

- **가중치 기반 라우팅 정책(Weighted routing policy)** - 사용자가 지정하는 비율에 따라 여러 리소스로 트래픽을 라우팅하려는 경우에 사용한다.

**하위 도메인**

등록된 도메인 이름 앞에 하나 이상의 레이블이 붙은 도메인 이름. 예를 들어 도메인 이름 example.com을 등록하면 www.example.com은 하위 도메인이 된다. example.com 도메인의 호스팅 영역 accounting.example.com을 만들면 seattle.accounting.example.com은 하위 도메인이 된다.

하위 도메인의 트래픽을 라우팅하려면 www.example.com 같이 원하는 이름을 가진 레코드를 생성하고 웹 서버의 IP 주소 등 해당 값을 지정한다.

**유지 시간(TTL)**

레코드의 현재 값을 얻기 위해 Route 53에 또 다른 요청을 제출하기 전에 DNS 해석기가 해당 레코드의 값을 캐싱(저장)할 시간(초). DNS 해석기가 TTL 만료 전에 동일한 도메인에 대한 또 다른 요청을 수신하는 경우, 해석기는 캐싱된 값을 반환한다.

TTL이 길수록 Route 53 요금이 줄어드는데, 요금은 Route 53이 응답하는 DNS 쿼리 수에 부분적으로 기반하기 때문이다. TTL이 짧으면 www.example.com 웹 서버의 IP 주소 변경 등을 통해 레코드에서 값을 변경한 후 DNS 해석기가 예전의 리소스로 트래픽을 라우팅하는 시간이 줄어든다.

---

## 3. 제어 및 데이터 영역 개념

다음은 Amazon Route 53이 기능을 제어 및 데이터 영역으로 나누는 방법과 관련된 개념의 개요이다. Route 53 서비스는 대부분의 AWS 서비스와 같이 리소스 생성, 업데이트 및 삭제와 같은 관리 작업을 수행할 수 있는 컨트롤 플레인과 서비스의 핵심 기능을 제공하는 데이터 영역을 포함한다. 두 기능 모두 신뢰할 수 있도록 구축되었지만 제어 영역은 데이터 일관성을 위해 최적화되는 반면 데이터 영역은 가용성을 위해 최적화된다. 데이터 영역의 복원력 있는 설계로 드물게 중단되는 이벤트에서도 가용성을 유지할 수 있으며 그 동안에는 제어 영역을 사용하지 못할 수 있다. 따라서 가용성이 중요한 곳에서는 데이터 영역 기능을 사용하는 것이 좋다.

Route 53 퍼블릭 및 프라이빗 DNS와 상태 확인의 경우 제어 영역은 us-east-1 AWS 리전에 있으며 데이터 영역은 전 세계에 분산되어 있다.

Amazon Route 53은 다음과 같이 제어 및 데이터 영역으로 나뉜다.

- Route 53 퍼블릭 및 프라이빗 DNS의 경우 제어 영역은 Route 53과 트래픽 흐름 API 모두를 포함하는 DNS 항목을 관리할 수 있는 Route 53 콘솔 및 API이다. 데이터 영역은 200개 이상의 상호 접속 위치(PoP) 위치에서 실행되는 신뢰할 수 있는 DNS 서비스로서 호스팅 영역 및 상태 확인 데이터를 기반으로 DNS 쿼리에 응답한다.

- Route 53 상태 확인의 경우 제어 영역은 상태 확인을 생성, 업데이트 및 삭제하는 데 사용할 수 있는 Route 53 콘솔 및 Route 53 API이다. 데이터 영역은 상태 확인을 수행하고 결과를 집계하여 Route 53 퍼블릭 및 프라이빗 DNS와 AWS Global Accelerator의 데이터 영역에 전달하는 전 세계에 분산된 서비스이다.

- Amazon Route 53 Resolver의 경우 제어 영역은 Amazon VPC 설정, 해석기 규칙, 쿼리 로깅 정책 및 DNS 방화벽 정책을 관리할 수 있는 해석기 콘솔 및 API로 구성된다. 데이터 영역은 VPC에서 DNS 쿼리에 응답하는 DNS 해석기 서비스, 쿼리를 다른 해석기로 전달하는 엔드포인트, DNS 쿼리를 필터링하는 정책을 적용하는 DNS 방화벽 데이터 영역이다. 해석기는 리전 서비스이며 제어 및 데이터 영역은 각 AWS 리전에서 독립적으로 실행된다.

- Route 53 도메인 등록은 us-east-1 AWS 리전의 제어 영역에서만 관리된다.

---

## 4. 상태 확인 개념

다음은 Amazon Route 53 상태 확인과 관련된 개념의 개요이다.

**DNS 장애 조치**

비정상인 리소스로부터 정상인 리소스로 트래픽을 라우팅하는 방법. 동일한 기능을 수행하는 리소스가 두 개 이상(예: 두 개 이상의 웹 서버 또는 메일 서버) 있는 경우 리소스의 상태를 확인하도록 Route 53 상태 확인을 구성하고 정상인 리소스로만 트래픽을 라우팅하도록 호스팅 영역의 레코드를 구성할 수 있다.

**엔드포인트**

상태를 모니터링하도록 상태 확인을 구성하는 웹 서버 또는 이메일 서버 등의 리소스. IPv4 주소(192.0.2.243), IPv6 주소(2001:0db8:85a3:0000:0000:abcd:0001:2345), 또는 도메인 이름(example.com)으로 엔드포인트를 지정할 수 있다.

!!! note

    다른 상태 확인의 상태를 모니터링하거나 CloudWatch 경보의 경보 상태를 모니터링하는 상태 확인도 만들 수 있다.

**상태 확인**

다음을 수행할 수 있도록 해 주는 Route 53 구성 요소.

- 웹 서버 등 지정된 엔드포인트가 정상인지 모니터링

- 필요할 경우, 엔드포인트가 비정상이 될 때 알림 수신

- 필요할 경우, DNS 장애 조치를 구성해 비정상인 리소스로부터 정상인 리소스로 인터넷 트래픽을 다시 라우팅 가능

---

## References

- <https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/route-53-concepts.html>
