---
hide:
  - footer
---

# 웹 사이트 또는 웹 애플리케이션으로 인터넷 트래픽을 라우팅하는 방식

---

스마트폰이나 노트북부터 대규모 소매 웹 사이트의 콘텐츠를 서비스하는 서버에 이르기까지 인터넷상의 모든 컴퓨터는 숫자를 사용하여 서로 통신한다. IP 주소라고 하는 이 숫자는 다음 형식 중 하나로 되어 있다.

- 192.0.2.44와 같은 인터넷 프로토콜 버전 4(IPv4)

- 2001:0db8:85a3:0000:0000:abcd:0001:2345와 같은 인터넷 프로토콜 버전 6(IPv6)

브라우저를 열고 웹 사이트로 이동할 때는 이런 긴 문자열을 기억해 입력할 필요가 없다. 그 대신 example.com과 같은 도메인 이름을 입력해도 원하는 웹 사이트로 갈 수 있다. Amazon Route 53과 같은 DNS 서비스는 도메인 이름과 IP 주소를 연결하도록 돕는다.

---

## 1. 인터넷 트래픽을 도메인으로 라우팅하도록 Amazon Route 53을 구성하는 방법 개요

다음은 Amazon Route 53 콘솔을 사용하여 도메인 이름을 등록하고 인터넷 트래픽을 웹 사이트 또는 웹 애플리케이션으로 라우팅하도록 Route 53을 구성하는 방법의 개요이다.

1. 사용자들이 콘텐츠에 액세스하는 데 사용될 도메인 이름을 등록해야 한다.

2. 도메인 이름을 등록한 후 Route 53은 도메인과 동일한 이름의 퍼블릭 호스팅 영역을 자동으로 생성한다.

3. 트래픽을 리소스로 라우팅하려면 호스팅 영역에서 리소스 레코드 세트라고도 하는 레코드를 생성한다. 각각의 레코드에는 도메인의 트래픽을 라우팅할 방법에 관한 다음과 같은 정보가 포함되어 있다.

    **이름**

      레코드의 이름은 Route 53을 사용하여 트래픽을 라우팅하려는 도메인 이름(예: example.com) 또는 하위 도메인 이름(예: www.example.com)과 일치한다.

      호스팅 영역에 있는 모든 레코드의 이름은 반드시 호스팅 영역의 이름으로 끝나야 한다. 예를 들어 호스팅 영역의 이름이 example.com이라면 모든 레코드 이름이 example.com으로 끝나야 한다. Route 53 콘솔은 자동으로 이 작업을 수행한다.

    **유형**

      레코드 유형은 일반적으로 트래픽을 라우팅할 리소스 유형을 결정한다. 예를 들어 트래픽을 이메일 서버로 라우팅하려면 [Type]을 [MX]로 지정한다. IPv4 IP 주소를 가진 웹 서버로 트래픽을 라우팅하려면 [Type]을 [A]로 지정한다.

    **값**

      [Value]는 [Type]과 밀접한 관련이 있다. [Type]을 [MX]로 지정하는 경우, [Value]에 하나 이상의 이메일 서버의 이름을 지정해야 한다. [Type]을 [A]로 지정하는 경우, 192.0.2.136과 같은 IPv4 형식의 IP 주소를 지정해야 한다.

트래픽을 Amazon S3 버킷, Amazon CloudFront 배포 및 다른 AWS 리소스로 라우팅하는, 별칭 레코드라고 하는 특별한 Route 53 레코드도 생성할 수 있다.

---

## 2. Amazon Route 53이 도메인의 트래픽을 라우팅하는 방법

웹 서버나 Amazon S3 버킷 같은 리소스로 인터넷 트래픽을 라우팅하도록 Amazon Route 53을 구성한 후에는 누군가 www.example.com의 콘텐츠를 요청하면 몇 밀리초 안에 다음과 같은 일이 이루어진다.

<figure markdown>
  ![001](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/images/how-route-53-routes-traffic.png){ load=lazy }
</figure>

1. 사용자가 웹 브라우저를 열어 주소 표시줄에 www.example.com을 입력하고 Enter 키를 누른다.

2. www.example.com에 대한 요청은 일반적으로 케이블 인터넷 공급업체, DSL 광대역 공급업체 또는 기업 네트워크 같은 인터넷 서비스 제공업체(ISP)가 관리하는 DNS 해석기로 라우팅된다.

3. ISP의 DNS 해석기는 www.example.com에 대한 요청을 DNS 루트 이름 서버에 전달한다.

4. DNS 해석기는 www.example.com에 대한 요청을 이번에는 .com 도메인의 TLD 이름 서버 중 하나에 다시 전달한다. .com 도메인의 이름 서버는 example.com 도메인과 연관된 4개의 Route 53 이름 서버의 이름을 사용하여 요청에 응답한다.

    DNS 해석기는 4개의 Route 53 이름 서버를 캐싱(저장)한다. 다음에 누군가 example.com을 찾아볼 때 example.com의 이름 서버가 이미 있으므로 해석기는 3단계와 4단계를 건너뛴다. 이름 서버는 일반적으로 2일 동안 캐시에 저장된다.

5. DNS 해석기는 Route 53 이름 서버 하나를 선택하여 www.example.com에 대한 요청을 해당 이름 서버에 전달한다.

6. Route 53 이름 서버는 example.com 호스팅 영역에서 www.example.com 레코드를 찾아 웹 서버의 IP 주소 192.0.2.44 등 연관된 값을 받아 이 IP 주소를 DNS 해석 프로그램에 반환한다.

7. DNS 해석기가 마침내 사용자에게 필요한 IP 주소를 해석해 낸다. 해석기는 이 값을 웹 브라우저로 반환한다.

    !!! note

        또한 DNS 해석기는 다음에 누군가가 example.com을 탐색할 때 보다 빠르게 응답할 수 있도록 사용자가 지정하는 일정 기간 동안 example.com의 IP 주소를 캐시에 저장한다.

8. 웹 브라우저는 DNS 해석기로부터 얻은 IP 주소로 www.example.com에 대한 요청을 전송한다. 여기가 콘텐츠가 있는 곳, 예컨대 Amazon EC2 인스턴스 또는 웹 사이트 엔드포인트로 구성된 Amazon S3 버킷에서 실행되는 웹 서버이다.

9. 192.0.2.44에 있는 웹 서버 또는 그 밖의 리소스는 www.example.com의 웹 페이지를 웹 브라우저에게 반환하고, 웹 브라우저는 이 페이지를 표시한다.

---

## References

- <https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/welcome-dns-service.html>
