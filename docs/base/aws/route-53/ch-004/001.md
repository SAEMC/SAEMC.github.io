---
hide:
  - footer
---

# DNS 도메인 이름 형식

---

도메인 이름(도메인, 호스팅 영역 및 레코드 이름 등)은 점으로 구분되는 일련의 레이블로 구성된다. 각 레이블의 길이는 최대 63바이트이다. 도메인 이름의 총 길이는 점을 포함하여 255바이트를 초과할 수 없다. Amazon Route 53는 모든 유효한 도메인 이름을 지원한다.

명명 요구 사항은 도메인 이름 등록 여부나 호스팅 영역 또는 레코드 이름 지정 여부에 따라 다르다.

---

## 1. 도메인 이름 등록 시 도메인 이름 형식

도메인 이름 등록 시 도메인 이름은 a-z, 0-9 및 -(하이픈)만 사용 가능한다. 레이블 시작 또는 끝에 하이픈을 지정할 수 없다.

---

## 2. 호스팅 영역 및 레코드에 대한 도메인 이름 형식

호스팅 영역 및 레코드에 대한 도메인 이름에는 다음과 같은 인쇄 가능한 ASCII 문자(공백 제외)를 사용할 수 있다.

- a-z

- 0~9

- \- (하이픈)

- ! " # $ % & ' ( ) * + , - / : ; < = > ? @ [ \ ] ^ _ ` { | } ~ .

Amazon Route 53는 영문자를 대문자, 소문자 또는 이스케이프 코드의 해당 문자 중 어떻게 지정하는지 관계없이 소문자(a-z)로 저장한다.

도메인 이름에 다음 문자가 포함되어 있는 경우, \\`three-digit octal code` 형식의 이스케이프 코드를 사용하여 문자를 지정해야 한다.

- 000 - 040 사이의 8진수 문자(0 - 32 사이의 10진수, 0x00 - 0x20 사이의 16진수)

- 177 - 377 사이의 8진수 문자(127 - 255 사이의 10진수, 0x7F - 0xFF 사이의 16진수)

- .(마침표), 056 8진수 문자(46 10진수, 0x2E 16진수), 도메인 이름에서 문자로 사용하는 경우. 구분 기호로 .를 사용하는 경우, 이스케이프 코드를 사용하지 않아도 된다.

도메인 이름에 a~z, 0~9, -(하이픈) 또는 _(밑줄) 이외의 문자가 포함되어 있는 경우, Route 53 API 작업에서 이스케이프 코드로 해당 문자를 반환한다. 엔터티를 생성할 때 해당 문자를 문자로 지정하든 이스케이프 코드로 지정하든 마찬가지이다. Route 53 콘솔에는 그러한 문자가 이스케이프 코드가 아닌 문자로 표시된다.

ASCII 문자 및 해당하는 8진수 코드 목록을 보려면 인터넷에서 "ascii table"을 검색한다.

다국어 도메인 이름(IDN)을 지정하려면 해당 이름을 퓨니코드로 변환한다.

---

## 3. 호스팅 영역 및 레코드의 이름에 별표(\*) 사용

이름에 *를 포함하는 호스팅 영역 및 기록을 생성할 수 있다.

**호스팅 영역**

- 도메인 이름의 맨 왼쪽 라벨에 \*를 포함할 수 없다. 예를 들어 \*.example.com은 허용되지 않는다.

- 다른 위치에 \*를 포함시키면 DNS가 이를 와일드카드가 아닌 \* 문자(ASCII 42)로 처리한다.

**레코드**

DNS는 이름에 표시되는 위치에 따라 \* 문자를 와일드카드 또는 \* 문자(ASCII 42)로 처리한다. 레코드의 이름에 \*를 와일드카드로 사용할 때의 다음 제한 사항에 유의한다.

- \* 는 도메인 이름에서 제일 왼쪽 라벨을 바꿔야 한다(예: \*.example.com 또는 \*.acme.example.com). 다른 위치에 \*를 포함시키면(예: prod.\*.example.com) DNS가 이를 와일드카드가 아닌 \* 문자(ASCII 42)로 처리한다.

- \*이 전체 라벨을 대신해야 한다. 예를 들어, \*prod.example.com 또는 prod\*.example.com을 지정할 수 없다.

- 구체적인 도메인 이름이 우선순위이다. 예를 들어, \*.example.com 및 acme.example.com 기록을 생성한다면 Route 53는 acme.example.com 기록 값의 acme.example.com DNS 쿼리에 항상 반응한다.

- \*는 별표 및 해당 하위 도메인의 모든 하위 도메인을 비롯한 하위 도메인 수준의 DNS 쿼리에 적용된다. 예를 들어 \*.example.com이라는 레코드를 생성하는 경우, Route 53은(호스팅 영역에 어떤 유형의 레코드도 없다면) 이 레코드 값을 사용하여 zenith.example.com, acme.zenith.example.com, 및 pinnacle.acme.zenith.example.com에 대한 DNS 쿼리에 응답한다.

- \*.example.com이라는 레코드를 생성했는데 example.com 레코드가 없는 경우 Route 53는 `NXDOMAIN`(존재하지 않는 도메인)을 통해 example.com DNS 쿼리에 응답한다.

- Route 53를 구성하여 동일한 수준의 모든 하위 도메인 및 도메인 이름에 따라 DNS 쿼리에 동일한 응답을 반환할 수 있다. 예를 들어, Route 53를 구성하고 example.com 레코드를 사용하여 acme.example.com 및 zenith.example.com과 같은 DNS 쿼리에 응답할 수 있다. 다음 단계를 수행한다.

      - 도메인의 레코드(예: example.com)를 생성한다.

      - 하위 도메인의 별칭 레코드(예: \*.example.com)를 생성한다. 1단계에서 생성한 기록을 별칭 기록 대상으로 지정한다.

유형이 NS인 레코드에 \*를 와일드카드로 사용할 수 없다.

---

## 4. 다국어 도메인 이름 형식

새 도메인 이름을 등록하거나 호스팅 영역 및 레코드를 생성할 때, a-z 이외의 문자(예: 프랑스어의 ç), 기타 알파벳 문자(예: 키릴 자모, 아랍어), 중국어, 일본어 또는 한국어 문자를 지정할 수 있다. Amazon Route 53는 이러한 다국어 도메인 이름(IDN)을 퓨니코드로 저장한다. 그럼 퓨니코드는 유니코드 문자를 ASCII 문자열로 나타낸다.

도메인 이름을 등록하는 경우 다음 사항에 유의한다.

- 최상위 도메인(TLD)이 IDN을 지원하고 사용하려는 언어를 지원하는 경우에만 a-z, 0-9 및 -(하이픈) 이외의 문자를 사용할 수 있다. TLD에서 지원하는 언어를 확인하려면 [Amazon Route 53에 등록할 수 있는 도메인](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/registrar-tld-list.html) 단원을 참조한다.

- 이름에 a-z 문자만 포함된 경우 지원되지 않는 언어로 이름을 지정할 수 있다. 예를 들어 TLD는 프랑스어를 지원하지 않지만 사용하려는 이름에 분음 부호 없이 a-z 문자만 포함되는 경우, 해당 이름을 계속 사용할 수 있다. 이 예에서는 "c"를 포함하는 이름은 허용되고 "ç"을 포함하는 이름은 허용되지 않는다.

- TLD에서 IDN을 지원하지 않거나 도메인 이름에 사용하려는 언어를 지원하지 않는 경우, 퓨니코드에 a-z, 0-9 및 -만 포함되어 있더라도 이름을 퓨니코드로 지정할 수 없다.

다음 예는 다국어 도메인 이름 中国.asia를 퓨니코드로 나타낸 것을 보여준다.

`xn--fiqs8s.asia`

최신 브라우저의 주소 표시줄에 IDN을 입력하면, DNS 쿼리를 제출하거나 HTTP 요청을 수행하기 전에 브라우저에서 이를 퓨니코드로 변환한다.

IDN을 입력하는 방식은 생성 항목(도메인 이름, 호스팅 영역 또는 레코드)과 해당 항목의 생성 방식(API, SDK 또는 Route 53 콘솔)에 따라 다르다.

- Route 53 API 또는 AWS SDK 중 하나를 사용하는 경우, 유니코드 값을 퓨니코드로 프로그래밍 방식으로 변환할 수 있다. 예를 들어, Java를 사용하는 경우 java.net.IDN 라이브러리의 **[toASCII]** 방식을 사용하여 유니코드 값을 퓨니코드로 변환할 수 있다.

- Route 53 콘솔을 사용하여 도메인 이름을 등록하는 경우, 유니코드 문자를 포함한 이름을 이름 필드에 붙여넣을 수 있으며, 콘솔에서 이를 저장하기 전에 퓨니코드로 이 값을 변환한다.

- Route 53 콘솔을 사용하여 호스팅 영역 또는 레코드를 생성하는 경우, 해당하는 **이름** 필드에 이름을 입력하기 전에 퓨니코드로 도메인 이름을 변환해야 한다. 온라인 변환기에 대한 자세한 내용은 인터넷에서 "punycode converter"를 검색한다.

도메인 이름을 등록하는 경우, 모든 최상위 도메인(TLD)에서 IDN을 지원하지는 않는다는 점을 참고한다. Route 53에서 지원하는 TLD 목록은 [Amazon Route 53에 등록할 수 있는 도메인](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/registrar-tld-list.html) 섹션을 참조한다. IDN을 지원하지 않는 TLD가 나와 있다.

---

## References

- <https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/DomainNameFormat.html>
