# 3. 조건문 if, case

---

## 이전 페이지

[2. 변수 사용하기](2%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AE%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%209ee27974b6dd439aa316ace9be882d43.md)

## 다음 페이지

[4. 반복문 for, while](4%20%E1%84%87%E1%85%A1%E1%86%AB%E1%84%87%E1%85%A9%E1%86%A8%E1%84%86%E1%85%AE%E1%86%AB%20for,%20while%209fcada1a93fb48d5ba7f750065c0a74d.md)

---

조건문은 셸 스크립트뿐만 아니라 개발을 할 때 가장 많이 쓰이는 기본 문법 중 하나이다. 그중에도 `if`문은 정말 많이 사용되는 문법이므로, 잘 알아두면 매우 유용하게 활용할 수 있다. 또한 `if`문과 함께 사용되는 조건문이 `case`문이다.

## 1. `if`문

`if`문은 질문을 통해 질문에 대한 답이 참인지 거짓인지를 판단하여 그 다음 행동에 영향을 준다. 예를 들어, 두 변수의 값을 비교한다거나 변수의 값이 특정 값에 도달했는지를 판단할 경우 `if`문을 사용하면 좋다. 또는 운영체제가 Fedora 계열이면 `yum install`을 이용하여 애플리케이션을 설치하고, 운영체제가 Debian 계열이면 `apt-get install`을 이용하여 애플리케이션을 설치할 경우에도 `if`문을 사용할 수 있다.

### 기본 사용법

`if`문의 기본 사용법은 다음과 같다. `if`문을 사용할 때는 굵게 표현한 글자는 반드시 기입을 해야 하며, 회색으로 표현한 글자는 조건식이 여러 개일 경우에 사용한다. 그리고, 조건식 앞뒤로는 반드시 `[]`(대괄호)를 사용해야 하며, `[]`와 조건식 사이에는 반드시 한 칸의 스페이스를 두어야 한다.

```bash
**if** [ 첫 번째 조건식 ]; **then**
    수행문
elif [ 두 번째 조건식 ]; then
    수행문
**else**
    수행문
**fi**
```

### 2) 조건식 타입

조건식은 변수의 타입이 숫자나 문자열 또는 파일과 같은 객체형이냐에 따라 사용되는 타입에 차이가 있으며, 연산의 종류에 따라서도 차이가 있을 수 있다. 다음은 주로 사용하는 조건식 타입을 정리한 것이다.

| 조건식 타입 | 설명 |
| --- | --- |
| if [ $변수 연산자 $변수 ]; then | 일반적인 조건식 타입으로 두 변수의 값을 비교할 때 쓰임 |
| if [ $변수 연산자 조건값 ]; then | 조건값이 고정되어 있을 경우 변수와 조건값을 비교할 때 사용 |
| if [ 연산자 $변수 ]; then | 변수의 값이 문자열이거나 디렉터리와 같은 경우일 때 주로 사용 |
| if [ 조건식 ] 연산자 [ 조건식 ]; then | 여러 개의 조건식을 AND나 OR로 복합 연산할 때 사용 |

**예제1) 조건식 타입 - `if [ $변수 연산자 $변수 ]; then`**

`if`문을 사용할 때 가장 일반적으로 사용하는 조건식 타입으로 두 변수의 값을 비교할 때 주로 사용된다. 다음은 변수 `value1`과 `value2`의 값이 동일한지를 비교하는 예제로 두 변수의 값이 같아 `True`를 출력함을 알 수 있다. 셸 스크립트에서 `;`을 사용한다는 것은 문법이나 명령어 또는 구문이 완료되어 다음 줄로 넘길 경우에 `;`을 사용한다.

```bash
# 변수 value1과 value2의 값이 동일한지 비교하는 조건문
$ vim if_example1.sh
#!/bin/bash

value1=10
value2=10

if [ $value1 = $value2 ]; then
    echo True
else
    echo False
fi
```

```bash
# 두 변수의 값은 동일함으로 True 출력
$ sh if_example1.sh
True
```

**예제2) 조건식 타입 - `if [ $변수 연산자 조건값 ]; then`**

이 조건식 타입은 조건값이 고정되어 있을 경우 사용하는 예제로 변수와 조건값을 비교할 때 주로 사용한다. 다음 예제는 변수 `value`의 값이 `0`인지를 비교하여 `0`이면 `True`를, 그렇지 않으면 `False`를 출력하도록 되어 있다. 예제에서는 `value`의 값이 `0`이므로 `True`를 출력한다. 또한 조건식을 표현할 때는 `if`문의 조건식 앞뒤로 반드시 공백을 두어야 한다.

```bash
# 변수 value의 값이 0인지 비교하는 조건문
$ vim if_example2.sh
#!/bin/bash

value=0

if [ $value = 0 ]; then
    echo True
else
    echo False
fi
```

```bash
# value가 0이므로 True 출력
$ sh if_example2.sh
True
```

**예제3) 조건식 타입 - `if [ 연산자 $변수 ]; then`**

조건식 타입 `if [ 연산자 $변수 ]; then`의 경우는 변수가 문자열이거나 디렉터리 또는 파일과 같이 객체형일 때 주로 사용된다. 연산자 `-z`는 변수에 저장된 값의 길이가 `0`인지를 비교하여 `0`이면 `True`를, 그렇지 않으면 `False`를 리턴하는 문자열 연산자이다.

```bash
# 변수 value의 길이가 0인지 비교하는 조건문
$ vim if_example3.sh
#!/bin/bash

value=""

if [ -z $value ]; then
    echo True
else
    echo False
fi
```

```bash
# value의 길이가 0이므로 True 출력
$ sh if_example3.sh
True
```

**예제4) 조건식 타입 - `if [ 조건식 ] 연산자 [ 조건식 ]; then`**

조건식 타입 `if [ 조건식 ] 연산자 [ 조건식 ]; then`은 여러 개의 조건식을 AND나 OR과 같은 논리 연산자에 의해 복합 연산을 할 경우에 주로 사용된다. 다음 예제는 변수 `value`의 값이 `0`보다 크고, `10`보다 작은지를 비교하는 AND 연산이다. 연산자 `-gt`는 `A`가 `B`보다 큰지를 비교하는 연산자이며, `-lt`는 `A`가 `B`보다 작은지를 비교하는 연산자이다. `&&`는 AND 연산을 의미한다.

```bash
# 변수 value의 값은 0보다 크고, 10보다 작은지를 비교하는 조건문
$ vim if_example4.sh
#!/bin/bash

value=5

if [ $value -gt 0 ] && [ $value -lt 10 ]; then
    echo True
else
    echo False
fi
```

```bash
# value값은 0보다 크고, 10보다 작으므로 True 출력
$ sh if_example4.sh
True
```

## 2. `case`문

`case`문은 `if`문에 비해 사용 빈도는 떨어지나, 변수의 값에 따라 분기를 해야 하는 경우에 주로 사용된다. 그렇기 때문에 `case`문에 대한 사용법도 알아두면 도움이 된다. 그리고, `case`문은 어떤 셸을 사용하느냐에 따라 기본 사용법이 조금씩 차이가 있다. 여기서는 BASH를 기준으로 설명하므로, BASH에 해당하는 `case`문에 대한 사용법만 언급한다.

### 기본 사용법

`case`문은 다음과 같이 `case`와 함께 비교 대상이 되는 변수명을 사용하교, 비교를 할 조건값별로 수행문을 작성하는 형식으로 사용된다.

```bash
case $변수 in
조건값1)
    수행문1
    ;;
조건값2)
    수행문2
    ;;
조건값3)
    수행문3
    ;;
*)
    수행문4
    ;;
esac
```

**예제) `case`에 대한 기본 사용법에 대한 예**

좀 더 쉬운 이해를 돕기 위해 다음 예제를 살펴보자. 다음 예제는 외부로부터 입력받은 매개변수의 값이 `start`이면 `Start`를 출력하고, `stop`이면 `Stop`을, `restart`이면 `Restart`를, `help`이면 `Help`를 출력한다. 만일 입력받은 매개변수가 없는 경우는 하단의 `*)`에서 `Please input sub command`를 출력하도록 되어 있다. 예제에서 살펴본 것처럼 `case`문은 변수와 조건값 중 동일한 조건값의 수행문을 수행하고 종료한다.

```bash
# 입력받은 파라미터에 따라 해당 문자열을 출력하는 예제
$ vim case-example.sh
#!/bin/bash

case $1 in
start)
    echo "Start"
    ;;
stop)
    echo "Stop"
    ;;
restart)
    echo "Restart"
    ;;
help)
    echo "Help"
    ;;
*)
    echo "Please input sub command"
    ;;
esac
```

```bash
# 파라미터가 없어 "Please input sub command"를 출력
$ sh case-example.sh
Please input sub command

# 파라미터와 동일한 start에 해당되어, "Start"를 출력
$ sh case-example.sh start
Start
```

---

## 이전 페이지

## 다음 페이지