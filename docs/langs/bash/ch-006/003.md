# 3. 테스트

---

## 이전 페이지

[2. find의 다양한 표현식](2%20find%E1%84%8B%E1%85%B4%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%91%E1%85%AD%E1%84%92%E1%85%A7%E1%86%AB%E1%84%89%E1%85%B5%E1%86%A8%20403d0e8d82dc4c349b7a4c0948d7ad01.md)

## 다음 페이지

[4. 연산자](4%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%89%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A1%20e5d514db7f804156a941067d95894af6.md)

---

테스트$^{Tests}$는 `find`에서 가장 많이 사용되는 표현식이다. 테스트를 잘 이용하면 쉽고 빠르게 원하는 파일을 검색할 수 있다. 테스트에는 다음과 같이 시간 관련 테스트 외에도 다양한 테스트가 있다. 그럼, 지금부터 유형별 테스트 종류를 알아보고, 예제를 통해 테스트의 사용법을 알아보자.

- 시간 관련 테스트
- 최신 파일 검색 관련 테스트
- 파일 권한 관련 테스트
- 그룹 및 사용자 관련 테스트
- 파일명 관련 테스트
- 파일 경로 관련 테스트
- 파일 타입 관련 테스트
- 기타 테스트

## 1. 시간 관련 테스트

시간 관련 테스트는 파일이 언제 생성되었고, 언제 사용되었으며, 언제 변경되었는지를 현재 시각을 기준으로 명시된 분 또는 시간에 해당하는 파일을 찾아준다. 다음은 이런 시간 관련 테스트 종류를 정리한 것이다.

| 테스트 | 설명 |
| --- | --- |
| -amin n | 현재 시각을 기준으로 n분 전에 액세스된 파일을 찾아줌 |
| -atime n | 현재 시각을 기준으로 n * 24시간 전에 액세스된 파일을 찾아줌 |
| -cmin n | 현재 시각을 기준으로 n분 전에 이름이 변경된 파일을 찾아줌 |
| -ctmie n | 현재 시각을 기준으로 n * 24시간 전에 이름이 변경된 파일을 찾아줌 |
| -mmin n | 현재 시각을 기준으로 n분 전에 내용이 수정된 파일을 찾아줌 |
| -mtime n | 현재 시각을 기준으로 n * 24시간 전에 내용이 수정된 파일을 찾아줌 |

## 2. 최신 파일 검색 관련 테스트

앞서 살펴본 테스트가 현재 시간을 기준으로 파일을 검색했다면, 이번에 살펴볼 테스트는 명시한 파일을 기준으로 더 최근에 접근하고, 수정 및 변경이 이루어진 파일을 검색해 준다. 다음은 이런 최신 파일 검색 관련 테스트를 정리한 것이다.

| 테스트 | 설명 |
| --- | --- |
| -anewer file | 명시된 파일보다 최근에 접근한(Access) 파일을 찾아줌 |
| -cnewer file | 명시된 파일보다 최근에 변경된(Change) 파일을 찾아줌 |
| -newer file | 명시된 파일보다 최근에 수정된(Modify) 파일을 찾아줌 |
| -newerXY file | 명시된 파일의 속성보다 최근에 수정된 파일을 찾아줌
파일 속성은 XY로 표시하며, 다음과 같은 속성이 있으며, 속성 B는 리눅스에서 사용할 수 없음
a: 파일 참조의 액세스 시간
B: 파일 참조의 탄생 시간
c: inode 상태 변경 시간 참조
m: 파일 참조의 수정 시간 |

## 3. 파일 권한 관련 테스트

파일 권한 관련 테스트는 말 그대로 찾고자 하는 파일에 해당하는 파일을 검색할 수 있도록 도와준다. 예를 들어 소유자만 읽고, 쓸 수 있는 파일을 검색한다던가, 다른 사용자에게 실행 권한이 부여된 파일을 찾을 경우 사용할 수 있다. 다음은 이럴 경우 사용할 수 있는 파일 권한 관련 테스트를 정리한 것이다.

| 테스트 | 설명 |
| --- | --- |
| -perm mode | 명시된 파일 권한과 동일한 파일을 검색함 |
| -perm -mode | 명시된 파일 권한이 포함된 파일을 검색함 |
| -perm /mode | 명시된 파일 권한을 소유자, 그룹, 기타로 구분하여 세 개의 권한 중 하나라도 동일한 파일을 검색함 |
| -perm +mode | 더이상 사용되지 않으며, 대신 -perm /mode가 +mode를 대신함 |
| -readable | 로그인한 사용자가 읽을 수 있는 파일을 검색함 |
| -writable | 로그인한 사용자가 쓸 수 있는 파일을 검색함 |
| -executable | 실행 권한이 있는 파일만 검색함 |

---

> **참고: 파일 권한에 대하요**
> 

리눅스에는 권한을 가질 수 있는 세 가지 유형의 사용자 롤(Role)이 있다. 하나는 리눅스 시스템을 로그인한 자기 자신인 소유자가 있으며, 소유자가 소속되어 있는 그룹과 기타 다른 사용자가 있다.

그래서, 파일 권한을 표시할 때는 소유자의 권한, 소유자의 그룹에 대한 권한, 기타 다른 사용자의 권한을 표시한다.

- 소유자
- 소유자의 그룹
- 기타 다른 사용자

파일이 가질 수 있는 권한에는 파일을 읽고, 쓰고, 실행하는 권한을 가질 수 있다. 그래서, 리눅스에서는 누가 파일을 읽고, 쓸 수 있는지를 파일 권한(Permission)에 표시한다. 이때 읽기는 `r`이라고 표현하고, 쓰기는 `w`라 표현하고, 실행은 `x`라고 표현한다.

- 읽기(`r`)
- 쓰기(`w`)
- 실행(`x`)

따라서, 리눅스에서 파일 권한을 표현할 때는 소유자가 가진 파일 권한, 그룹이 가진 파일 권한, 기타 다른 사용자가 가진 파일 권한을 표현한다.

[ 소유자: `rwx` / 그룹: `r-x` / 기타: `r-x` ]와 같은 경우 [ 소유자(`7`): `421` / 그룹(`5`): `4-1` / 기타(`5`): `4-1` ]로 표기할 수 있다.

---

## 4. 그룹 및 사용자 관련 테스트

그룹 및 사용자 관련 테스트는 찾고자 하는 그룹ID 또는 그룹명, 사용자ID 또는 사용자명에 해당하는 파일을 검색할 때 사용할 수 있다. 다음은 이렇게 그룹 및 사용자를 검색할 때 사용할 수 있는 테스트를 정리한 것이다.

| 테스트 | 설명 |
| --- | --- |
| -gid n | 그룹ID가 명시한 그룹ID n과 동일한 파일 검색 |
| -group gname | 그룹명이 명시한 그룹명 gname과 동일한 파일 검색 |
| -nogroup | 존재하지 않은 그룹ID를 가지고 있는 파일 검색 |
| -nouser | 존재하지 않는 사용자 ID를 가지고 있는 파일 검색 |
| -uid n | 사용자ID가 명시한 사용자ID n과 동일한 파일 검색 |
| -user uname | 사용자명이 명시한 사용자명 uname과 동일한 파일 검색 |

## 5. 파일명 관련 테스트

파일명 관련 테스트는 파일명을 이용하여 검색할 때 대소문자 구분을 없애다던가 하여 심볼릭 링크를 검색할 수 있다. 다음 표는 이런 파일명 관련 테스트를 정리한 것이다.

| 테스트 | 설명 |
| --- | --- |
| -iname pattern | 대소문자 구분없이 패턴과 일치하는 파일 검색 |
| -inum n | 파일의 inode 번호 n을 갖는 파일 검색 |
| -iname pattern | 패턴과 일치하는 심볼릭 링크 검색 |
| -name pattern | 패턴과 일치하는 파일 검색 |
| -regex pattern | 패턴과 일치하는 경로 검색
Emacs 정규 표현식이 기본값이며, -regextype 옵션을 사용하여 변경할 수 있음 |
| -iregex pattern | 대소문자 구분없이 패턴과 일치하는 경로 검색 |
| -samefile name | 파일명과 동일한 파일 및 심볼릭 링크 검색
심볼릭 링크 검색을 위해서는 -L 옵션을 함께 사용해야 함 |

## 6. 파일 경로 관련 테스트

파일 경로 관련 테스트는 파일명이 아닌 현재 디렉터리를 기준으로 명시된 패턴에 의해 파일의 경로를 검색한다. 다음은 이런 파일 경로를 검색할 수 있는 테스트들을 정리한 것이다.

| 테스트 | 설명 |
| --- | --- |
| -ipath pattern | 대소문자를 구분하지 않고 패턴과 일치하는 경로를 검색함 |
| -iwholename pattern | -ipath 테스트와 동일하며, -ipath 테스트보다 이식성이 떨어짐 |
| -links n | N개의 링크를 가지고 있는 경로를 검색함 |
| -path pattern | 패턴과 일치하는 경로를 검색함 |
| -wholename pattern | -path 테스트와 동일하면 -path 테스트보다 이식성이 떨어짐 |

## 7. 파일 타입 관련 테스트

파일 타입 관련 테스트는 검색 기준이 파일 타입일 경우 사용할 수 있는 테스트이다. 다음에 정리된 테스트를 통해 디렉터리, 심볼릭 링크 등을 검색할 수 있다.

| 테스트 | 설명 |
| --- | --- |
| -fstype type | BSD 계열의 운영체제에서 지원되며, -type 테스트와 유사한 기능을 제공함 |
| -type c | 명시한 파일 타입과 동일한 파일을 검색함
사용 가능한 파일 타입은 다음과 같음
b: 블록
c: 문자
d: 디렉터리
p: 명명된 파이프
f: 일반 파일
l: 심볼릭 링크
s: 소켓
D: door(Solaris) |
| -xtype c | -type 테스트와 동일하며, 심볼릭 링크를 검색할 경우 -L 옵션과 함께 사용해야 함 |
| -context pattern | 패턴과 일치되는 보안 컨텍스트를 가진 파일을 검색함
SELinux가 있는 Fedora 계열 리눅스에서만 사용 가능함 |

## 8. 기타 테스트

리눅스에서 `man find` 명령이나 `find --help` 명령어를 사용하면 `find` 명령어에 대한 사용법과 옵션 등을 확인할 수 있다.

| 테스트 | 설명 |
| --- | --- |
| -true | 항상 true를 리턴함 |
| -false | 항상 false를 리턴함 |
| -empty | 파일 사이즈가 0인 파일을 검색함 |
| -size n[cwbkMG] | 명시한 파일 사이즈에 해당하는 파일을 검색 |
| -used n | 파일이 변경된 후 n일에 마지막으로 액세스한 파일을 검색함 |

---

## 이전 페이지

## 다음 페이지